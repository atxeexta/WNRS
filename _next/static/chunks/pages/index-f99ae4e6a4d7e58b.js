(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3678)}])},3678:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return v}});var i=a(5893),t=a(7294),s=a(6010),r=a(1163),c=a(5989),d=a(6743),o=a(510),l=a(5694),m=a(9370),_=a(6323),u=a(251),h=a.n(u);function f(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function x(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(n){f(e,n,a[n])}))}return e}var j=function(e){var n=e.split("-");if(n.length<=1||!n.slice(-1)[0].length)return!1;var a=n.slice(0,-1).join("-"),i=Number(n.slice(-1)[0]);return!(isNaN(i)||!Number.isInteger(i)||i<0||i>Math.pow(2,Object.keys(o).length))&&{seed:a,decksCode:i,decks:(0,_.E$)(i)}};function v(){var e,n=(0,t.useState)({mode:null,seed:"",decks:null,names:[""]}),a=n[0],o=n[1],u=(0,t.useState)(0),f=u[0],v=u[1],N=(0,t.useState)(null),g=N[0],p=N[1],w=(0,r.useRouter)(),k=function(e){return function(n){o(x({},a,{mode:e})),v("new"===e?1:2)}},b=function(){if(2===f&&"load"===a.mode){var e=j(a.seed);if(!e)return p("Invalid seed");o(x({},a,{seed:e.seed,decks:e.decks}))}if(2===f&&"new"===a.mode&&!a.seed)return p("Empty");v(++f)},y=function(){1!==f&&"load"!==a.mode||o(x({},a,{mode:null})),p(null),v("load"===a.mode?0:--f)};return(0,t.useEffect)((function(){4===f&&setTimeout((function(){w.push({pathname:"/game",query:x({decks:(0,_.Mr)(a.decks),seed:a.seed?a.seed:(new Date).toLocaleDateString("sv")},1!==a.names.length&&{names:a.names.slice(0,-1).join(",")})})}),500)}),[f]),(0,i.jsx)("main",{className:(0,s.Z)(h().startRoot,4===f&&h().fadeToWhite),children:(0,i.jsxs)("div",{className:(0,s.Z)(h().inner),children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.Z,{addEndListener:function(e,n){return e.addEventListener("transitionend",n,!1)},classNames:{enter:h()["fade-enter"],enterActive:h()["fade-enter-active"],exit:h()["fade-exit"],exitActive:h()["fade-exit-active"]},children:(0,i.jsxs)("div",{className:h().content,children:[0===f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:h().gameName,children:["We're Not",(0,i.jsx)("br",{}),"Really",(0,i.jsx)("br",{}),"Strangers"]}),(0,i.jsxs)("div",{className:h().modes,children:[(0,i.jsxs)("div",{className:h().mode,onClick:k("new"),children:[(0,i.jsx)(m.ol,{className:h().arrow}),(0,i.jsx)("span",{children:"New Game"})]}),(0,i.jsxs)("div",{className:h().mode,onClick:k("load"),children:[(0,i.jsx)(m.ol,{className:h().arrow}),(0,i.jsx)("span",{children:"Load Game"})]})]})]}),"new"===a.mode&&1===f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:h().title,children:"Decks"}),(0,i.jsx)("div",{className:h().description,children:"Don't worry. You may change this later."}),(0,i.jsx)(l.l,{className:h().list,init:null!==(e=a.decks)&&void 0!==e?e:void 0,onChange:function(e){return o(x({},a,{decks:e}))}})]}),2===f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:h().title,children:"Your Game"}),(0,i.jsx)("div",{className:h().description,children:"Just a bit more info."}),(0,i.jsx)(l.J,{mode:a.mode,error:g,className:h().nameForm,onChange:function(e,n){"load"===a.mode&&g&&j(e)&&p(null),o(x({},a,{names:n,seed:e}))}})]}),3===f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:h().gameName,children:["Warning:",(0,i.jsx)("br",{}),"Feeling may arise.",(0,i.jsx)("br",{})]}),(0,i.jsxs)("p",{className:h().gameDesc,children:["To proceed, you understand this application is ",(0,i.jsx)("strong",{children:"not"})," affliated with the official WNRS."]}),(0,i.jsxs)("div",{className:h().modes,children:[(0,i.jsxs)("div",{className:h().mode,onClick:b,children:[(0,i.jsx)(m.ol,{className:h().arrow}),(0,i.jsx)("span",{children:"I'm ready"})]}),(0,i.jsxs)("div",{className:h().mode,onClick:y,children:[(0,i.jsx)(m.ol,{className:h().arrow}),(0,i.jsx)("span",{children:"Bring me back"})]})]})]})]})},f)}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.Z,{addEndListener:function(e,n){return e.addEventListener("transitionend",n,!1)},classNames:{enter:h()["fade-enter"],enterActive:h()["fade-enter-active"],exit:h()["fade-exit"],exitActive:h()["fade-exit-active"]},children:(0,i.jsx)("div",{children:f>0&&f<3&&(0,i.jsxs)("nav",{className:h().nav,children:[(0,i.jsxs)("button",{onClick:y,children:[(0,i.jsx)(m.Xd,{className:h().arrowLeft}),"Back"]}),(0,i.jsxs)("button",{onClick:b,children:["Next",(0,i.jsx)(m.ol,{className:h().arrowRight})]})]})})},f>0&&f<3)})]})})}},251:function(e){e.exports={inner:"main_inner__d643h",nav:"main_nav__Ux8yS",title:"main_title__X_f7j",modes:"main_modes__aWNJU",mode:"main_mode__8a93t",gameName:"main_gameName__6k0Cr","drop-enter":"main_drop-enter__ZFuXL","drop-exit":"main_drop-exit__zALxX","drop-enter-active":"main_drop-enter-active__hlZkr","drop-exit-active":"main_drop-exit-active__gGihS","fade-enter":"main_fade-enter__FtMLA","fade-exit":"main_fade-exit__xHhyd","fade-enter-active":"main_fade-enter-active__nDIU3","fade-exit-active":"main_fade-exit-active__v6SW3","fade-exit-right-active":"main_fade-exit-right-active__ICcSw",startRoot:"main_startRoot__OCuJ2",fadeToWhite:"main_fadeToWhite__8gfw3",content:"main_content__vrntn",gameDesc:"main_gameDesc__6oHrO",hide:"main_hide__rHCOj",arrow:"main_arrow__4xz2A",description:"main_description__u_fcZ",list:"main_list__m2urS",nameForm:"main_nameForm__8hTqH",arrowLeft:"main_arrowLeft__0_5AM",arrowRight:"main_arrowRight__zv81H"}}},function(e){e.O(0,[799,579,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);