(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3678)}])},3678:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return N}});var t=a(5893),r=a(7294),s=a(6010),i=a(1163),o=a(5989),c=a(6743),d=a(510),l=a(5694),m=a(8085),u=a(6323),_=a(251),h=a.n(_),f=a(5762),x=a(9008),j=a(3374);function v(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function g(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(n){v(e,n,a[n])}))}return e}var p=function(e){var n=e.split("-");if(n.length<=1||!n.slice(-1)[0].length)return!1;var a=n.slice(0,-1).join("-"),t=Number(n.slice(-1)[0]);return!(isNaN(t)||!Number.isInteger(t)||t<0||t>Math.pow(2,Object.keys(d).length))&&{seed:a,decksCode:t,decks:(0,u.E$)(t)}};function N(){var e,n=(0,i.useRouter)(),a=(0,j.F)().themeColor,d=(0,r.useState)({mode:null,seed:"",decks:null,names:[""]}),_=d[0],v=d[1],N=(0,r.useState)(0),b=N[0],w=N[1],y=(0,r.useState)(null),k=y[0],C=y[1],S=(0,r.useRef)(),E=function(e){return function(n){v(g({},_,{mode:e})),w("new"===e?1:2)}},L=function(){if(2===b&&"load"===_.mode){var e=p(_.seed);if(!e)return C("Invalid seed");v(g({},_,{seed:e.seed,decks:e.decks}))}if(2===b&&"new"===_.mode&&!_.seed)return C("Empty");w(++b)},O=function(){1!==b&&"load"!==_.mode||v(g({},_,{mode:null})),C(null),w("load"===_.mode?0:--b)};return(0,r.useEffect)((function(){if(4===b){document&&(document.body.style.transition="background 500ms ease-in",document.body.style.background="var(--theme-main)");var e=(0,u.Mr)(_.decks);(0,f.Kz)((0,f.IH)(),"game_start",{mode:_.mode,deck:e,players:_.names.length}),setTimeout((function(){n.push({pathname:"/game",query:g({decks:e,seed:_.seed?_.seed:(new Date).toLocaleDateString("sv")},1!==_.names.length&&{names:_.names.slice(0,-1).join(",")})})}),500)}}),[b]),(0,r.useEffect)((function(){document.body.style.background="var(--theme-paper)",document.body.style.color="var(--theme-contrastPaperText)"}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.default,{children:(0,t.jsx)("meta",{name:"theme-color",content:a})}),(0,t.jsx)("main",{className:(0,s.Z)(h().startRoot,4===b&&h().fadeToMain),children:(0,t.jsxs)("div",{className:h().inner,children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(c.Z,{addEndListener:function(e,n){return e.addEventListener("transitionend",n,!1)},classNames:{enter:h()["fade-enter"],enterActive:h()["fade-enter-active"],exit:h()["fade-exit"],exitActive:h()["fade-exit-active"]},children:(0,t.jsxs)("div",{className:h().content,ref:S,children:[0===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h1",{className:h().gameName,children:["We're Not",(0,t.jsx)("br",{}),"Really",(0,t.jsx)("br",{}),"Strangers"]}),(0,t.jsxs)("div",{className:h().modes,children:[(0,t.jsxs)("div",{className:h().mode,onClick:E("new"),children:[(0,t.jsx)(m.ol,{className:h().arrow}),(0,t.jsx)("span",{children:"New Game"})]}),(0,t.jsxs)("div",{className:h().mode,onClick:E("load"),children:[(0,t.jsx)(m.ol,{className:h().arrow}),(0,t.jsx)("span",{children:"Load Game"})]})]})]}),"new"===_.mode&&1===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:h().title,children:"Decks"}),(0,t.jsx)("div",{className:h().description,children:"Don't worry. You may change this later."}),(0,t.jsx)(l.l,{className:h().list,init:null!==(e=_.decks)&&void 0!==e?e:void 0,onChange:function(e){return v(g({},_,{decks:e}))}})]}),2===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:h().title,children:"Your Game"}),(0,t.jsx)("div",{className:h().description,children:"Just a bit more info."}),(0,t.jsx)(l.J,{mode:_.mode,error:k,className:h().nameForm,onChange:function(e,n){"load"===_.mode&&k&&p(e)&&C(null),v(g({},_,{names:n,seed:e}))}})]}),3===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h1",{className:h().gameName,children:["Warning:",(0,t.jsx)("br",{}),"Feeling may arise.",(0,t.jsx)("br",{})]}),(0,t.jsxs)("p",{className:h().gameDesc,children:["To proceed, you understand this application is ",(0,t.jsx)("strong",{children:"not"})," affliated with the official WNRS and agree with this app's"," ",(0,t.jsx)("a",{href:"https://docs.google.com/document/d/1LrcuAy6t8woynvdQSc9wKWoyLY3aSGbcJCYH-9l-qBw/edit?usp=sharing",rel:"noreferrer",target:"_blank",children:"Privacy Policy"}),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Add this app to your homepage for offline support."]}),(0,t.jsxs)("div",{className:h().modes,children:[(0,t.jsxs)("div",{className:h().mode,onClick:L,children:[(0,t.jsx)(m.ol,{className:h().arrow}),(0,t.jsx)("span",{children:"I'm ready"})]}),(0,t.jsxs)("div",{className:h().mode,onClick:O,children:[(0,t.jsx)(m.ol,{className:h().arrow}),(0,t.jsx)("span",{children:"Bring me back"})]})]})]})]})},b)}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(c.Z,{addEndListener:function(e,n){return S.current.addEventListener("transitionend",n,!1)},classNames:{enter:h()["fade-enter"],enterActive:h()["fade-enter-active"],exit:h()["fade-exit"],exitActive:h()["fade-exit-active"]},children:(0,t.jsx)("div",{children:b>0&&b<3&&(0,t.jsxs)("nav",{className:h().nav,children:[(0,t.jsxs)("button",{onClick:O,children:[(0,t.jsx)(m.Xd,{className:h().arrowLeft}),"Back"]}),(0,t.jsxs)("button",{onClick:L,children:["Next",(0,t.jsx)(m.ol,{className:h().arrowRight})]})]})})},b>0&&b<3)})]})})]})}},251:function(e){e.exports={inner:"main_inner__d643h",nav:"main_nav__Ux8yS",title:"main_title__X_f7j",modes:"main_modes__aWNJU",mode:"main_mode__8a93t",gameName:"main_gameName__6k0Cr","drop-enter":"main_drop-enter__ZFuXL","drop-exit":"main_drop-exit__zALxX","drop-enter-active":"main_drop-enter-active__hlZkr","drop-exit-active":"main_drop-exit-active__gGihS","fade-enter":"main_fade-enter__FtMLA","fade-exit":"main_fade-exit__xHhyd","fade-enter-active":"main_fade-enter-active__nDIU3","fade-exit-active":"main_fade-exit-active__v6SW3","fade-exit-right-active":"main_fade-exit-right-active__ICcSw",startRoot:"main_startRoot__OCuJ2",fadeToMain:"main_fadeToMain__4Msbd",content:"main_content__vrntn",gameDesc:"main_gameDesc__6oHrO",hide:"main_hide__rHCOj",arrow:"main_arrow__4xz2A",description:"main_description__u_fcZ",list:"main_list__m2urS",nameForm:"main_nameForm__8hTqH",arrowLeft:"main_arrowLeft__0_5AM",arrowRight:"main_arrowRight__zv81H"}}},function(e){e.O(0,[799,579,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);